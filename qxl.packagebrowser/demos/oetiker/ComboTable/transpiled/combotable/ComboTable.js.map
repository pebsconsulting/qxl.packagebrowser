{
  "version": 3,
  "sources": [
    "/home/runner/work/qxl.packagebrowser/qxl.packagebrowser/packages/qx_packages/oetiker_ComboTable_v1_0_2/source/class/combotable/ComboTable.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "ui",
    "form",
    "ComboBox",
    "include",
    "MModelProperty",
    "construct",
    "tableModel",
    "setSearchString",
    "Error",
    "getColumnCount",
    "__tableModel",
    "tf",
    "getChildControl",
    "setLiveUpdate",
    "addListener",
    "_onTextFieldInput",
    "__timerMgr",
    "util",
    "TimerManager",
    "getInstance",
    "properties",
    "comboLoading",
    "init",
    "check",
    "apply",
    "members",
    "__updateTimer",
    "__table",
    "__highlighter",
    "_onTableDataChanged",
    "setComboLoading",
    "tm",
    "table",
    "rc",
    "getRowCount",
    "sm",
    "getSelectionModel",
    "resetSelection",
    "getValue",
    "setSelectionInterval",
    "setFocusedCell",
    "setValid",
    "getRequired",
    "isVisible",
    "row",
    "getSelectedRowData",
    "setModel",
    "key",
    "setValue",
    "value",
    "_applyComboLoading",
    "old",
    "setVisibility",
    "core",
    "queue",
    "Visibility",
    "flush",
    "html",
    "Element",
    "_createChildControlImpl",
    "id",
    "hash",
    "control",
    "__makeTable",
    "custom",
    "tableColumnModel",
    "obj",
    "columnmodel",
    "Resize",
    "tablePaneHeader",
    "combotable",
    "NoHeader",
    "initiallyHiddenColumns",
    "container",
    "Composite",
    "layout",
    "Canvas",
    "set",
    "height",
    "getMaxListHeight",
    "allowGrowX",
    "allowGrowY",
    "add",
    "basic",
    "Label",
    "tr",
    "padding",
    "enabled",
    "Table",
    "focusable",
    "keepFocus",
    "width",
    "decorator",
    "alwaysUpdateCells",
    "textfield",
    "addListenerOnce",
    "e",
    "armClick",
    "hasState",
    "selectAllText",
    "getDataRowRenderer",
    "setHighlightFocusRow",
    "showCellFocusIndicator",
    "headerCellsVisible",
    "columnVisibilityButtonVisible",
    "focusCellOnPointerMove",
    "tcm",
    "getTableColumnModel",
    "CellHighlighter",
    "setDataCellRenderer",
    "edge",
    "resetValue",
    "_onClick",
    "target",
    "getTarget",
    "open",
    "_onKeyPress",
    "popup",
    "iden",
    "getKeyIdentifier",
    "getComboLoading",
    "stop",
    "stopPropagation",
    "close",
    "rowDown",
    "rowId",
    "rowUp",
    "_onListChangeSelection",
    "_onPopupChangeVisibility",
    "visibility",
    "getData",
    "removeState",
    "addState",
    "start",
    "userData",
    "timerId",
    "getSearchString",
    "fireDataEvent",
    "getOldData",
    "_onTextFieldChangeValue",
    "sel",
    "getSelectedRanges",
    "i",
    "length",
    "interval",
    "s",
    "minIndex",
    "maxIndex",
    "ComboTable"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/* ************************************************************************\n\n   Copyright:\n     Tobias Oetiker, OETIKER+PARTNER AG, www.oetiker.ch\n     Mustafa Sak, SAK systems, www.saksys.de\n\n   License:\n     MIT\n\n   Authors:\n     * Tobias Oetiker (oetiker)\n     * Mustafa Sak\n     * Fritz Zaucker (fritz.zaucker@oetiker.ch)\n\n************************************************************************ */\n\n/**\n * If a traditional SelectBox contains lots of items, it becomes pretty unpractical\n * to navigate. This widget lets the user enter part of the item of interest and\n * filters the drop down box accordingly.\n * It uses single column {@link qx.ui.table.Table} to present the dropdown box.\n * The table model must provide a {setSearchString} method. If you have static data, you\n * may want to try the included {@link combotable.SearchableModel}.\n * Combined with {@link qx.ui.table.model.Remote} it is possible to\n * provide access to huge datasets.\n * The model passed into the constructor must already have two columns set.\n * The first column containing the id/key of the row and the second column the searchable data.\n *\n * @throws {Error} An error if the table model does not provide a {setSearchString} method or has not two columns.\n */\nqx.Class.define(\"combotable.ComboTable\", {\n    extend : qx.ui.form.ComboBox,\n    include : [ qx.ui.form.MModelProperty ],\n\n    /**\n     * @param tableModel {qx.ui.table.ITableModel ? null}\n     *   A table model with {setSearchString} method and two columns as described above.\n     */\n    construct : function(tableModel) {\n        this.base(arguments);\n\n        if (!tableModel.setSearchString) {\n            throw new Error(\"tableModel must have a setSearchString method. Create your own model or use combotable.SearchableModel!\");\n        }\n        if (tableModel.getColumnCount() != 2) {\n            throw new Error(\"tableModel must have exactly two columns!\");\n        }\n\n        this.__tableModel = tableModel;\n\n        var tf = this.getChildControl(\"textfield\");\n        tf.setLiveUpdate(true);\n        tf.addListener(\"input\", this._onTextFieldInput, this);\n        this.__timerMgr = qx.util.TimerManager.getInstance();\n    },\n\n    properties : {\n        /**\n         * Is the content of the table presently being reloaded ?\n         */\n        comboLoading : {\n            init  : false,\n            check : \"Boolean\",\n            apply : \"_applyComboLoading\"\n        }\n    },\n\n    members : {\n        __timerMgr : null,\n        __tableModel : null,\n        __updateTimer : null,\n        __table : null,\n        __highlighter: null,\n\n        /**\n         * As the popup data is recalculated adjust the selection and if the popup is already closed set\n         * the field content.\n         *\n         * @return {void}\n         */\n        _onTableDataChanged : function() {\n            this.setComboLoading(false);\n            var tm = this.__tableModel;\n            var table = this.__table;\n            var rc = tm.getRowCount();\n            var sm = table.getSelectionModel();\n            sm.resetSelection();\n\n            if (rc > 0) {\n                if (this.getValue()){\n                    sm.setSelectionInterval(0, 0);\n                    table.setFocusedCell(1, 0, true);\n                    this.setValid(true);\n                }\n            }\n            else {\n                if (this.getRequired()){\n                    this.setValid(false);\n                }\n            }\n\n            if (!this.getChildControl(\"popup\").isVisible()) {\n                var row = this.getSelectedRowData();\n\n                if (row) {\n                    this.setModel(row.key);\n                    this.setValue(row.value);\n                }\n                else {\n                    this.setModel(null);\n                }\n            }\n        },\n\n\n        /**\n         * Show loading notice as the table reloads.\n         *\n         * @param value {var} new value\n         * @param old {var} old value\n         * @return {void}\n         */\n        _applyComboLoading : function(value, old) {\n            this.__table.setVisibility(value ? 'hidden' : 'visible');\n            qx.ui.core.queue.Visibility.flush();\n            qx.html.Element.flush();\n        },\n\n\n        /**\n         * Create the child chontrols.\n         *\n         * @param id {var} widget id\n         * @param hash {Map} hash\n         * @return {var} control\n         */\n        _createChildControlImpl : function(id, hash) {\n            var control;\n\n            switch(id)\n            {\n                case \"list\":\n                    control = this.__makeTable();\n                    break;\n            }\n\n            return control || this.base(arguments, id);\n        },\n\n\n        /**\n         * Creat the table widget\n         *\n         * @return {Widget} table widget\n         */\n        __makeTable : function() {\n            // Instantiate an instance of our local remote data model\n            var tm = this.__tableModel;\n\n            var custom = {\n                tableColumnModel : function(obj) {\n                    return new qx.ui.table.columnmodel.Resize(obj);\n                },\n\n                tablePaneHeader : function(obj) {\n                    return new combotable.NoHeader(obj);\n                },\n\n                initiallyHiddenColumns : [ 0 ]\n            };\n\n            // Instantiate a table\n            var container = new qx.ui.container.Composite(new qx.ui.layout.Canvas).set({\n                height     : this.getMaxListHeight(),\n                allowGrowX : true,\n                allowGrowY : true\n            });\n\n            container.add(new qx.ui.basic.Label(this.tr('Filtering ...')).set({\n                padding    : [ 3, 3, 3, 3 ],\n                allowGrowX : true,\n                allowGrowY : true,\n                enabled    : false\n            }));\n\n            var table = this.__table = new qx.ui.table.Table(tm, custom).set({\n                focusable         : false,\n                keepFocus         : true,\n                height            : null,\n                width             : null,\n                allowGrowX        : true,\n                allowGrowY        : true,\n                decorator         : null,\n                alwaysUpdateCells : true\n            });\n\n            // once the user starts modifying the text of the combo box\n            // start watching for table changes\n            var textfield = this.getChildControl('textfield');\n\n            textfield.addListenerOnce('input',function(e){\n                tm.addListener('dataChanged', this._onTableDataChanged, this);\n            },this);\n\n            var armClick = function(){\n                textfield.addListenerOnce('click',function(e){\n                    if (! textfield.hasState(\"selected\")){\n                        textfield.selectAllText();\n                    }\n                });\n            };\n\n            armClick();\n            textfield.addListener('focusout',armClick,this);\n\n            table.getDataRowRenderer().setHighlightFocusRow(true);\n\n            table.set({\n                showCellFocusIndicator        : false,\n                headerCellsVisible            : false,\n                columnVisibilityButtonVisible : false,\n                focusCellOnPointerMove          : true\n            });\n\n            var tcm = table.getTableColumnModel();\n            this.__highlighter = new combotable.CellHighlighter();\n            tcm.setDataCellRenderer(1, this.__highlighter);\n            container.add(table, { edge : 0 });\n            return container;\n        },\n\n        /**\n         * reset the value of combobox\n         */\n        resetValue : function() {\n            this.setValue(null);\n            this.setModel(null);\n            var tm = this.__tableModel;\n            this.__highlighter.setSearchString(null);\n            tm.setSearchString(null);\n        },\n\n\n        // overridden\n        _onClick : function(e) {\n            var target = e.getTarget();\n\n            if (target == this.getChildControl(\"button\")) {\n                this.open();\n            }\n        },\n\n\n        // overridden\n        _onKeyPress : function(e) {\n            var popup = this.getChildControl(\"popup\");\n            var iden = e.getKeyIdentifier();\n\n            switch(iden)\n            {\n                case \"Down\":\n                case \"Up\":\n                    if (this.getComboLoading()) {\n                        e.stop();\n                        e.stopPropagation();\n                        return;\n                    }\n                    if (!popup.isVisible()) {\n                        this.open();\n                    }\n\n                    this['row' + iden]();\n                    e.stop();\n                    e.stopPropagation();\n                    break;\n\n                case \"Enter\":\n                case \"Escape\":\n                case \"Tab\":\n                     if (this.getComboLoading()) {\n                         e.stop();\n                         e.stopPropagation();\n                         return;\n                     }\n                     if (popup.isVisible()) {\n                         e.stop();\n                         e.stopPropagation();\n                         this.close();\n                     }\n                     break;\n            }\n        },\n\n\n        /**\n         * Scroll down one row\n         *\n         * @return {void}\n         */\n        rowDown : function() {\n            var row = this.getSelectedRowData();\n            var table = this.__table;\n\n            if (!row) {\n                table.setFocusedCell(1, 0, true);\n                table.getSelectionModel().setSelectionInterval(0, 0);\n            }\n            else {\n                if (row.rowId + 1 < this.__tableModel.getRowCount()) {\n                    table.setFocusedCell(1, row.rowId + 1, true);\n                    table.getSelectionModel().setSelectionInterval(row.rowId + 1, row.rowId + 1);\n                }\n            }\n        },\n\n\n        /**\n         * Scroll up one row\n         *\n         * @return {void}\n         */\n        rowUp : function() {\n            var row = this.getSelectedRowData();\n            var table = this.__table;\n\n            if (!row) {\n                table.setFocusedCell(1, 0, true);\n                table.getSelectionModel().setSelectionInterval(0, 0);\n            }\n            else {\n                if (row.rowId - 1 >= 0) {\n                    table.setFocusedCell(1, row.rowId - 1, true);\n                    table.getSelectionModel().setSelectionInterval(row.rowId - 1, row.rowId - 1);\n                }\n            }\n        },\n\n\n        // overridden\n        _onListChangeSelection : function(e) {},\n\n\n        // overridden\n        _onPopupChangeVisibility : function(e) {\n            var visibility = e.getData();\n\n            if (visibility == 'hidden') {\n                this.getChildControl(\"button\").removeState(\"selected\");\n                var row = this.getSelectedRowData();\n\n                if (row) {\n                    this.setModel(row.key);\n                    this.setValue(row.value);\n                }\n                else {\n                    if (this.getValue()){\n                        this.setModel(null);\n                        this.setValid(false);\n                    }\n                    else {\n                        if (this.getRequired()){\n                            this.setValid(false);\n                        }\n                    }\n                }\n            }\n            else {\n                this.getChildControl(\"button\").addState(\"selected\");\n            }\n        },\n\n\n        // overridden\n        _onTextFieldInput : function(e) {\n            var value = e.getData();\n            var table = this.__table;\n            this.open();\n            var sm = table.getSelectionModel();\n            sm.resetSelection();\n            table.setFocusedCell(null, null, false);\n\n            if (this.__updateTimer) {\n                this.__timerMgr.stop(this.__updateTimer);\n            }\n\n            this.__updateTimer = this.__timerMgr.start(function(userData, timerId) {\n                this.__updateTimer = null;\n\n                if (this.__tableModel.getSearchString() != value) {\n                    this.setComboLoading(true);\n                    this.__highlighter.setSearchString(value);\n                    this.__tableModel.setSearchString(value);\n                }\n            },\n            null, this, null, 150);\n\n            this.fireDataEvent(\"input\", value, e.getOldData());\n        },\n\n\n        // overridden\n        _onTextFieldChangeValue : function(e) {\n            this.fireDataEvent(\"changeValue\", e.getData(), e.getOldData());\n        },\n\n\n        /**\n         * get id and data curently selected\n         *\n         * @return {var} map with id and data and rowId keys\n         */\n        getSelectedRowData : function() {\n            var table = this.__table;\n            var sel = table.getSelectionModel().getSelectedRanges();\n            var tm = this.__tableModel;\n            for (var i=0; i<sel.length; i++) {\n                var interval = sel[i];\n\n                for (var s=interval.minIndex; s<=interval.maxIndex; s++) {\n                    var key = tm.getValue(0, s);\n                    var value = tm.getValue(1, s);\n\n                    return {\n                        rowId : s,\n                        key   : key,\n                        value : value\n                    };\n                }\n            }\n            return null;\n        }\n    }\n});\n"
  ]
}