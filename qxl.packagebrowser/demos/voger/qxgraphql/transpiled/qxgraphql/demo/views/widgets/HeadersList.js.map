{
  "version": 3,
  "sources": [
    "/home/runner/work/qxl.packagebrowser/qxl.packagebrowser/packages/qx_packages/voger_qxgraphql_v0_0_2/source/class/qxgraphql/demo/views/widgets/HeadersList.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "ui",
    "core",
    "scroll",
    "AbstractScrollArea",
    "include",
    "MRemoteChildrenHandling",
    "implement",
    "form",
    "IModel",
    "construct",
    "model",
    "marshalerDelegate",
    "getModelMixins",
    "qxgraphql",
    "demo",
    "views",
    "widgets",
    "MHeadersListModel",
    "__marshaler",
    "data",
    "marshal",
    "Json",
    "toClass",
    "key",
    "value",
    "__container",
    "_createItemsContainer",
    "addListener",
    "_onAddChild",
    "getChildControl",
    "add",
    "_this",
    "delegate",
    "bindItem",
    "controller",
    "item",
    "id",
    "bindProperty",
    "bindPropertyReverse",
    "createItem",
    "HeadersListItem",
    "configureItem",
    "e",
    "getModel",
    "itemModel",
    "remove",
    "__controller",
    "List",
    "setDelegate",
    "initModel",
    "properties",
    "nullable",
    "event",
    "apply",
    "transform",
    "check",
    "isSubClassOf",
    "constructor",
    "Array",
    "getClass",
    "dereference",
    "deferredInit",
    "members",
    "layout",
    "VBox",
    "container",
    "Composite",
    "setPaddingRight",
    "getChildrenContainer",
    "_applyModel",
    "old",
    "__trailWithEmpty",
    "setModel",
    "isDisposed",
    "dispose",
    "_transformModel",
    "array",
    "setAutoDisposeItems",
    "entries",
    "createModelItem",
    "push",
    "length",
    "getLength",
    "last",
    "getItem",
    "isEmpty",
    "empty",
    "__createEmptyModelItem",
    "toModel",
    "child",
    "getData",
    "scrollChildIntoView",
    "_deleteItem",
    "destroy",
    "destruct",
    "HeadersList"
  ],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAAA,EAAAA,EAAE,CAACC,SAAH,CAAaC,oBAAb,CAAkCC,aAAlC;AAAAH,EAAAA,EAAE,CAACI,KAAH,CAASC,MAAT,CAAgB,0CAAhB,EAA4D;AAC1DC,IAAAA,MAAM,EAAGN,EAAE,CAACO,EAAH,CAAMC,IAAN,CAAWC,MAAX,CAAkBC,kBAD+B;AAE1DC,IAAAA,OAAO,EAAE,CACPX,EAAE,CAACO,EAAH,CAAMC,IAAN,CAAWI,uBADJ,CAFiD;AAK1DC,IAAAA,SAAS,EAAG,CACVb,EAAE,CAACO,EAAH,CAAMO,IAAN,CAAWC,MADD,CAL8C;AAS1DC,IAAAA,SAAS,EAAE,mBAASC,KAAT,EAAgB;AACzB,kEADyB,CAGzB;;AACA,UAAMC,iBAAiB,GAAG;AACxBC,QAAAA,cAAc,EAAE,0BAAW;AACzB,iBAAOC,SAAS,CAACC,IAAV,CAAeC,KAAf,CAAqBC,OAArB,CAA6BC,iBAApC;AACD;AAHuB,OAA1B;AAMA,WAAKC,SAAL,GAAmB,IAAIzB,EAAE,CAAC0B,IAAH,CAAQC,OAAR,CAAgBC,IAApB,CAAyBV,iBAAzB,CAAnB;;AACA,WAAKO,SAAL,CAAiBI,OAAjB,CAAyB;AAACC,QAAAA,GAAG,EAAE,IAAN;AAAYC,QAAAA,KAAK,EAAE;AAAnB,OAAzB,EAAmD,IAAnD;;AAGA,WAAKC,SAAL,GAAmB,KAAKC,qBAAL,EAAnB;;AACA,WAAKD,SAAL,CAAiBE,WAAjB,CAA6B,gBAA7B,EAA+C,KAAKC,WAApD,EAAiE,IAAjE;;AAEA,WAAKC,eAAL,CAAqB,MAArB,EAA6BC,GAA7B,CAAiC,KAAKL,SAAtC;;AAGA,UAAMM,KAAK,GAAG,IAAd;;AACA,UAAMC,QAAQ,GAAG;AACfC,QAAAA,QAAQ,EAAE,kBAAUC,UAAV,EAAsBC,IAAtB,EAA4BC,EAA5B,EAAgC;AACxCF,UAAAA,UAAU,CAACG,YAAX,CAAwB,EAAxB,EAA4B,OAA5B,EAAqC,IAArC,EAA2CF,IAA3C,EAAiDC,EAAjD;AACAF,UAAAA,UAAU,CAACG,YAAX,CAAwB,KAAxB,EAA+B,KAA/B,EAAsC,IAAtC,EAA4CF,IAA5C,EAAkDC,EAAlD;AACAF,UAAAA,UAAU,CAACI,mBAAX,CAA+B,KAA/B,EAAsC,KAAtC,EAA6C,IAA7C,EAAmDH,IAAnD,EAAyDC,EAAzD;AACAF,UAAAA,UAAU,CAACG,YAAX,CAAwB,OAAxB,EAAiC,OAAjC,EAA0C,IAA1C,EAAgDF,IAAhD,EAAsDC,EAAtD;AACAF,UAAAA,UAAU,CAACI,mBAAX,CAA+B,OAA/B,EAAwC,OAAxC,EAAiD,IAAjD,EAAuDH,IAAvD,EAA6DC,EAA7D;AACD,SAPc;AAQfG,QAAAA,UAAU,EAAE,sBAAY;AACtB,iBAAO,IAAI1B,SAAS,CAACC,IAAV,CAAeC,KAAf,CAAqBC,OAArB,CAA6BwB,eAAjC,EAAP;AACD,SAVc;AAWfC,QAAAA,aAAa,EAAE,uBAASN,IAAT,EAAe;AAC5BA,UAAAA,IAAI,CAACR,WAAL,CAAiB,QAAjB,EAA2B,UAASe,CAAT,EAAY;AACrC,gBAAMhC,KAAK,GAAG,KAAKiC,QAAL,EAAd;AACA,gBAAMC,SAAS,GAAGT,IAAI,CAACQ,QAAL,EAAlB;AACAjC,YAAAA,KAAK,CAACmC,MAAN,CAAaD,SAAb;AACD,WAJD,EAIGb,KAJH;AAKD;AAjBc,OAAjB;AAoBA,WAAKe,SAAL,GAAoB,IAAIrD,EAAE,CAAC0B,IAAH,CAAQe,UAAR,CAAmBa,IAAvB,CAA4B,IAA5B,EAAkC,IAAlC,CAApB;;AACA,WAAKD,SAAL,CAAkBE,WAAlB,CAA8BhB,QAA9B;;AAGA,WAAKiB,SAAL,CAAevC,KAAf;AACD,KAvDyD;AAyD1DwC,IAAAA,UAAU,EAAE;AACVxC,MAAAA,KAAK,EAAE;AACLyC,QAAAA,QAAQ,EAAE,IADL;AAELC,QAAAA,KAAK,EAAE,aAFF;AAGLC,QAAAA,KAAK,EAAE,aAHF;AAILC,QAAAA,SAAS,EAAE,iBAJN;AAKLC,QAAAA,KAAK,EAAE,eAAS/B,KAAT,EAAgB;AACrB,iBAAO/B,EAAE,CAACI,KAAH,CAAS2D,YAAT,CAAsBhC,KAAK,CAACiC,WAA5B,EAAyChE,EAAE,CAAC0B,IAAH,CAAQuC,KAAjD,KACJjE,EAAE,CAACC,SAAH,CAAaiE,QAAb,CAAsBnC,KAAtB,MAAiC,KADpC;AAED,SARI;AASLoC,QAAAA,WAAW,EAAE,IATR;AAULC,QAAAA,YAAY,EAAE;AAVT;AADG,KAzD8C;AAwE1DC,IAAAA,OAAO,EAAE;AAEPhB,MAAAA,SAAY,EAAE,IAFP;AAGP;AAEA5B,MAAAA,SAAW,EAAE,IALN;AAOPO,MAAAA,SAAW,EAAE,IAPN;AASPC,MAAAA,qBAAqB,EAAE,iCAAW;AAChC,YAAMqC,MAAM,GAAG,IAAItE,EAAE,CAACO,EAAH,CAAM+D,MAAN,CAAaC,IAAjB,CAAsB,EAAtB,CAAf;AACA,YAAMC,SAAS,GAAG,IAAIxE,EAAE,CAACO,EAAH,CAAMiE,SAAN,CAAgBC,SAApB,CAA8BH,MAA9B,CAAlB;AACAE,QAAAA,SAAS,CAACE,eAAV,CAA0B,CAA1B;AACA,eAAOF,SAAP;AACD,OAdM;AAgBPG,MAAAA,oBAAoB,EAAG,gCAAW;AAChC,eAAO,KAAK3C,SAAZ;AACD,OAlBM;AAoBP4C,MAAAA,WAAW,EAAE,qBAAS7C,KAAT,EAAgB8C,GAAhB,EAAqB;AAChC;AACA,YAAI9C,KAAJ,EAAW;AACT,eAAK+C,SAAL;;AACA/C,UAAAA,KAAK,CAACG,WAAN,CAAkB,cAAlB,EAAkC,KAAK4C,SAAvC,EAAyD,IAAzD;AACD;;AAED,aAAKzB,SAAL,CAAkB0B,QAAlB,CAA2BhD,KAA3B;;AAEA,YAAI8C,GAAG,IAAI,CAACA,GAAG,CAACG,UAAJ,EAAZ,EAA8B;AAC5BH,UAAAA,GAAG,CAACI,OAAJ;AACD;AACF,OAhCM;;AAkCP;AACJ;AACA;AACA;AACA;AACA;AACA;AACIC,MAAAA,eAAe,EAAE,yBAASnD,KAAT,EAAgB;AAC/B,YAAIoD,KAAJ;;AACA,YAAIpD,KAAK,KAAK,IAAd,EAAoB;AAClBoD,UAAAA,KAAK,GAAG,IAAR;AACD,SAFD,MAEO,IAAInF,EAAE,CAACI,KAAH,CAAS2D,YAAT,CAAsBhC,KAAK,CAACiC,WAA5B,EAAyChE,EAAE,CAAC0B,IAAH,CAAQuC,KAAjD,CAAJ,EAA6D;AAClEkB,UAAAA,KAAK,GAAGpD,KAAR;AACD,SAFM,MAEA;AACL;AACAoD,UAAAA,KAAK,GAAG,IAAInF,EAAE,CAAC0B,IAAH,CAAQuC,KAAZ,EAAR;AACAkB,UAAAA,KAAK,CAACC,mBAAN,CAA0B,IAA1B;;AAHK,qDAIsBrD,KAAK,CAACsD,OAAN,EAJtB;AAAA;;AAAA;AAIL,gEAA4C;AAAA;AAAA,kBAAhCvD,GAAgC;AAAA,kBAA3BC,MAA2B;;AAC1C,kBAAMd,KAAK,GAAG,KAAKqE,eAAL,CAAqBxD,GAArB,EAA0BC,MAA1B,CAAd;AACAoD,cAAAA,KAAK,CAACI,IAAN,CAAWtE,KAAX;AACD;AAPI;AAAA;AAAA;AAAA;AAAA;AAQN;;AACD,eAAOkE,KAAP;AACD,OAzDM;AA2DP;AACAL,MAAAA,SA5DO,uBA4DY;AACjB,YAAM7D,KAAK,GAAG,KAAKiC,QAAL,EAAd;AACA,YAAMsC,MAAM,GAAGvE,KAAK,CAACwE,SAAN,EAAf;AACA,YAAMC,IAAI,GAAGzE,KAAK,CAAC0E,OAAN,CAAcH,MAAM,GAAG,CAAvB,CAAb;;AAEA,YAAI,CAACE,IAAD,IAAS,CAACA,IAAI,CAACE,OAAL,EAAd,EAA8B;AAC5B,cAAMC,KAAK,GAAG,KAAKC,SAAL,EAAd;;AACA7E,UAAAA,KAAK,CAACsE,IAAN,CAAWM,KAAX;AACD;AACF,OArEM;AAuEP;AACAC,MAAAA,SAAsB,EAAE,qBAAW;AACjC,eAAO,KAAKR,eAAL,CAAqB,IAArB,EAA2B,IAA3B,CAAP;AACD,OA1EM;AA4EPA,MAAAA,eAAe,EAAE,yBAASxD,GAAT,EAAcC,KAAd,EAAqB;AACpC,eAAO,KAAKN,SAAL,CAAiBsE,OAAjB,CAAyB;AAACjE,UAAAA,GAAG,EAAEA,GAAN;AAAWC,UAAAA,KAAK,EAAEA;AAAlB,SAAzB,CAAP;AACD,OA9EM;AAgFPI,MAAAA,WAAW,EAAE,qBAASc,CAAT,EAAY;AACvB,YAAM+C,KAAK,GAAG/C,CAAC,CAACgD,OAAF,EAAd;AACA,aAAKC,mBAAL,CAAyBF,KAAzB;AACD,OAnFM;AAuFPG,MAAAA,WAAW,EAAE,qBAASzD,IAAT,EAAe;AAC1B,aAAKU,MAAL,CAAYV,IAAZ;AACAA,QAAAA,IAAI,CAAC0D,OAAL;AACD;AA1FM,KAxEiD;AAsK1DC,IAAAA,QAAQ,EAAE,oBAAW;AACnB,WAAK1B,oBAAL,GAA4ByB,OAA5B;;AACA,WAAK/C,SAAL,CAAkB4B,OAAlB;;AACA,WAAKxD,SAAL,CAAiBwD,OAAjB;AACD;AA1KyD,GAA5D;AAAA7D,EAAAA,SAAS,CAACC,IAAV,CAAeC,KAAf,CAAqBC,OAArB,CAA6B+E,WAA7B,CAAyCnG,aAAzC,GAAyDA,aAAzD",
  "sourcesContent": [
    "qx.Class.define(\"qxgraphql.demo.views.widgets.HeadersList\", {\n  extend : qx.ui.core.scroll.AbstractScrollArea,\n  include: [\n    qx.ui.core.MRemoteChildrenHandling\n  ],\n  implement : [\n    qx.ui.form.IModel\n  ],\n\n  construct: function(model) {\n    this.base(arguments);\n\n    // create the marshaler\n    const marshalerDelegate = {\n      getModelMixins: function() {\n        return qxgraphql.demo.views.widgets.MHeadersListModel;\n      }\n    };\n\n    this.__marshaler = new qx.data.marshal.Json(marshalerDelegate);\n    this.__marshaler.toClass({key: null, value: null}, true);\n\n\n    this.__container = this._createItemsContainer();\n    this.__container.addListener(\"addChildWidget\", this._onAddChild, this);\n\n    this.getChildControl(\"pane\").add(this.__container);\n\n\n    const _this = this;\n    const delegate = {\n      bindItem: function (controller, item, id) {\n        controller.bindProperty(\"\", \"model\", null, item, id);\n        controller.bindProperty(\"key\", \"key\", null, item, id);\n        controller.bindPropertyReverse(\"key\", \"key\", null, item, id);\n        controller.bindProperty(\"value\", \"value\", null, item, id);\n        controller.bindPropertyReverse(\"value\", \"value\", null, item, id);\n      },\n      createItem: function () {\n        return new qxgraphql.demo.views.widgets.HeadersListItem();\n      },\n      configureItem: function(item) {\n        item.addListener(\"delete\", function(e) {\n          const model = this.getModel();\n          const itemModel = item.getModel();\n          model.remove(itemModel);\n        }, _this);\n      }\n    };\n\n    this.__controller = new qx.data.controller.List(null, this);\n    this.__controller.setDelegate(delegate);\n\n\n    this.initModel(model);\n  },\n\n  properties: {\n    model: {\n      nullable: true,\n      event: \"changeModel\",\n      apply: \"_applyModel\",\n      transform: \"_transformModel\",\n      check: function(value) { \n        return qx.Class.isSubClassOf(value.constructor, qx.data.Array) || \n          (qx.Bootstrap.getClass(value) === \"Map\");  \n      },\n      dereference: true,\n      deferredInit: true\n    }\n  },\n\n  members: {\n\n    __controller: null,\n    // overridden\n\n    __marshaler: null, \n\n    __container: null,\n\n    _createItemsContainer: function() {\n      const layout = new qx.ui.layout.VBox(10);\n      const container = new qx.ui.container.Composite(layout);\n      container.setPaddingRight(3);\n      return container;\n    },\n\n    getChildrenContainer : function() {\n      return this.__container;\n    },\n\n    _applyModel: function(value, old) {\n      // initialize \n      if (value) {\n        this.__trailWithEmpty();\n        value.addListener(\"changeBubble\", this.__trailWithEmpty, this);\n      }\n\n      this.__controller.setModel(value);\n\n      if (old && !old.isDisposed()) {\n        old.dispose();\n      }\n    },\n\n    /**\n     * Transforms incoming value. \n     * * If the incoming value is of type `qx.data.Array` it returns it as it is.\n     * * If the incoming value is of type `Map` it returns a `qx.data.Array` array of models.\n     * @param value {qx.data.Array|Map|null}\n     * @return qx.data.Array\n     */\n    _transformModel: function(value) {\n      let array;\n      if (value === null) {\n        array = null;\n      } else if (qx.Class.isSubClassOf(value.constructor, qx.data.Array)) {\n        array = value;\n      } else {\n        // model is a Map()\n        array = new qx.data.Array();\n        array.setAutoDisposeItems(true);\n        for (const [key, value] of value.entries()) {\n          const model = this.createModelItem(key, value);\n          array.push(model);\n        }  \n      }\n      return array;\n    },\n\n    // appends an empty item at the end of the model if needed\n    __trailWithEmpty() {\n      const model = this.getModel();\n      const length = model.getLength();\n      const last = model.getItem(length - 1);\n\n      if (!last || !last.isEmpty()) {\n        const empty = this.__createEmptyModelItem();\n        model.push(empty);\n      }\n    },\n\n    //  returns an empty model item to add to the end\n    __createEmptyModelItem: function() {\n      return this.createModelItem(null, null);\n    },\n\n    createModelItem: function(key, value) {\n      return this.__marshaler.toModel({key: key, value: value});\n    },\n\n    _onAddChild: function(e) {\n      const child = e.getData();\n      this.scrollChildIntoView(child);\n    },\n\n\n\n    _deleteItem: function(item) {\n      this.remove(item);\n      item.destroy();\n    }\n\n  },\n\n  destruct: function() {\n    this.getChildrenContainer().destroy();\n    this.__controller.dispose();\n    this.__marshaler.dispose();\n  }\n\n});\n"
  ]
}